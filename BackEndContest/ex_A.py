# A. Многоквартирный дом
# Ограничение времени	1 секунда
# Ограничение памяти	256 Мб
# Ввод	стандартный ввод
# Вывод	стандартный вывод
# Аркадий возвращался домой поздним вечером и захотел узнать, в скольких квартирах
# в его доме хозяева всё ещё не спят. Он решил выяснить это, посмотрев, в каких окнах горит свет.
# Дом, в котором живёт Аркадий, состоит из n этажей, на каждом этаже которого расположено
# m квартир. Каждая квартира имеет x окон в высоту и y окон в ширину,
# то есть в каждой квартире всего x⋅y окон.
# Аркадий определил для себя правило: если в квартире горит свет хотя бы в
# (половине с округлением вверх) окнах, то это значит, что хозяева не спят.
# Ваша задача — узнать количество таких «бодрствующих» квартир в доме.

# Формат ввода
# В первой строке входных данных записаны четыре целых числа

# n,m,x,y (1≤n,m,x,y≤50) — количество этажей, квартир на этаже, окон в высоту и ширину в каждой квартире.

# Следующие  n⋅x строк длины  m⋅y описывают состояние окон в доме.
# Если в окне горит свет, то оно описывается символом «X», иначе «0».

# Формат вывода
# Выведите единственное целое число — количество квартир в доме, в которых хозяева всё ещё не спят.
#
# Пример 1
# Ввод
# 2 2 2 2
# X000
# 000X
# X000
# XX00

# Вывод
# 1

# Пример 2
# Ввод
# 3 1 2 1
# 0
# 0
# X
# X
# 0
# X

# Вывод
# 2

def main():
    n, m, x, y = map(int, input().split())
    threshold = (x * y + 1) // 2
    awake_count = 0

    window_data = []
    for _ in range(n * x):
        line = input().strip()
        window_data.append(line)

    for floor in range(n):
        for apt in range(m):
            lit_windows = 0

            for row_in_floor in range(x):
                global_row = floor * x + row_in_floor
                line = window_data[global_row]
                start_col = apt * y

                for col in range(y):
                    if line[start_col + col] == 'X':
                        lit_windows += 1
                        if lit_windows >= threshold:
                            break
                if lit_windows >= threshold:
                    break

            if lit_windows >= threshold:
                awake_count += 1

    print(awake_count)


if __name__ == "__main__":
    main()